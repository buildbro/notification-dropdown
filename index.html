<!DOCTYPE html>
<html>
<head>
    <link rel="stylesheet" type="text/css" href="css/style.css">
    <script
    src="https://code.jquery.com/jquery-3.5.1.min.js"
    integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0="
    crossorigin="anonymous"></script>

    <title>Open Notification dropdown - Home</title>
</head>
<body>
    <div class="navbar">
    <div class="container">
        <div class="row nav-wrapper">
            <div class="logo">
                <a href="./"><span style="font-size: 2em; color: #FFF">P</span></a>
            </div>
            <div class="search">
                <div class="search-wrapper">
                    <form>
                        <input type="text" placeholder="enter keyword" class="search-input">
                        <input type="submit" value="&#128269;" class="search-button">
                    </form>
                </div>
            </div>
            <div class="links">
                <div class="links-wrapper">
                    <div class="link-each"><a href=""><img src="img/user.png"></a><span class="unread-count">12</span></div>
                    <div class="link-each" id="pm-btn"><a href=""><img src="img/envelope.png"></a></div>
                    <div class="link-each" id="notification-btn"><a href=""><img src="img/notifications.png"></a></div>
                </div>
            </div>
        </div>
    </div>
</div>
<div class="row">
    <div id="notifications">
        <h3>Notifications</h3>
        <div style="min-height:300px;"></div>
        <div class="seeAll"><a href="#">See All</a></div>
    </div>
</div>
<script>

    $(document).ready(function () {
        var currentId = ''; //helps with unstyling last clicked dropdown
        function openDropdown(id, cId) {
            currentId = id;
            if (cId != '' && cId != id) {
                //alert(cId);
                $(cId).css('background-color', '#EEEEFF');
                $(id).css('background-color', '#DEDEDE');
                //currentId = '';
            } else {
                // TOGGLE (SHOW OR HIDE) NOTIFICATION WINDOW.
                $('#notifications').fadeToggle('fast', 'linear', function () {
                    switchIconColor(id);
                });
            }


            $('.unread-count').fadeOut('slow');     // HIDE THE COUNTER.

            return false;
        }
        function switchIconColor(id) {
            if ($('#notifications').is(':hidden')) {
                $(id).css('background-color', '#EEEEFF');
            }
            // CHANGE BACKGROUND COLOR OF THE BUTTON.
            else $(id).css('background-color', '#DEDEDE');
        }

        $('#notification-btn').click(function (e) {
            e.stopPropagation();
            e.preventDefault();
            openDropdown('#notification-btn', currentId);
        });
        $('#pm-btn').click(function (e) {
            e.stopPropagation();
            e.preventDefault();
            openDropdown('#pm-btn', currentId)
        })

        $(document).click(function () {
            $('#notifications').hide();
            switchIconColor(currentId);
        });

        $('#notifications').click(function () {
            return false;       // DO NOTHING WHEN CONTAINER IS CLICKED.
        });
    })
</script>

</body>
</html>